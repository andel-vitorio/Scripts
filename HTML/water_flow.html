<!DOCTYPE html>

<html lang="pt-br">
<head>
    <script src="https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.css" />
    <meta charset="utf-8" />    
    <title></title>
</head>

<body>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>

    <script type="text/javascript">
        var dados = '';

        var firebaseConfig = {
            apiKey: "AIzaSyCnU7861_b8W6kKmnsgrG0HqSBXjeiXQJ0",
            authDomain: "water-flow-project-8ae3d.firebaseapp.com",
            databaseURL: "https://water-flow-project-8ae3d-default-rtdb.firebaseio.com",
            projectId: "water-flow-project-8ae3d",
            storageBucket: "water-flow-project-8ae3d.appspot.com",
            messagingSenderId: "393477153852",
            appId: "1:393477153852:web:ac27a97b32d0b42bde8f39"
        };
        
        firebase.initializeApp(firebaseConfig);
    
        var bt = document.getElementById('bt');
        var email = 'andel.js@outlook.com';
        var password = 'andelvitorio';
        var database = firebase.database();
    
        firebase.auth().signInWithEmailAndPassword(email, password)
        .then((userCredential) => {
            console.log('success');
        })
        .catch((error) => {
            console.log('error');
        });
        
        /*
        bt.addEventListener('click', function () {
            writeData('Sensor', '100');
        }); */

        // Escrita
        function writeData(path, value) {
            database.ref(path).set({
                value: value
            });
        }

        function docWrite(variable) {
            document.write(variable);
        }

        // Leitura
        var caminho =  '06-07-2021'
        var path = firebase.database().ref(caminho);
        path.on('value', (snapshot) => {    
            const data = snapshot.val();
            dados = data;
            console.log(data);
        });
    </script>

     <h2>Ol√° mundo!</h2>
     <div id="txt"></div>
     <button id="bt">Teste</button>
    <span><script>docWrite(dados)</script></span>
</body>
</html>